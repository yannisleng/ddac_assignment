@page
@model CustomerProfileModel
@{
    ViewData["Title"] = "Profile";
    ViewData["ActivePage"] = ManageNavPages.Index;
}

<div class="mx-2 my-3 rounded">
    <h3 class="mb-4 text-2xl font-bold">@ViewData["Title"]</h3>
    <partial name="_StatusMessage" for="StatusMessage" />

    <div class="flex">
        <!-- Sidebar -->
        <div class="w-1/4 border-r border-gray-300 bg-gray-100 p-4">
            <ul>
                <li class="mb-4">
                    <button id="personal-info-button" class="w-full rounded bg-gray-200 px-4 py-2 text-gray-800">Personal Information</button>
                </li>
                <li class="mb-4">
                    <button id="address-button" class="w-full rounded bg-gray-200 px-4 py-2 text-gray-800">Address</button>
                </li>
            </ul>
        </div>

        <!-- Form -->
        <div class="w-3/4 rounded bg-white p-6 shadow-md" id="personal-info-form">
            <form id="profile-form" method="post" class="space-y-6">
                <div asp-validation-summary="ModelOnly" class="mb-4 text-red-500" role="alert"></div>

                <div class="grid-cols-2 grid gap-4">
                    <div>
                        <label asp-for="CustomerPersonalInfo.FirstName" class="mb-2 block text-sm font-bold text-gray-700"></label>
                        <input asp-for="CustomerPersonalInfo.FirstName" class="w-full appearance-none rounded border px-3 py-2 leading-tight text-gray-700 shadow focus:outline-none focus:shadow-outline" />
                        <span asp-validation-for="CustomerPersonalInfo.FirstName" class="text-sm text-red-500"></span>
                    </div>
                    <div>
                        <label asp-for="CustomerPersonalInfo.LastName" class="mb-2 block text-sm font-bold text-gray-700"></label>
                        <input asp-for="CustomerPersonalInfo.LastName" class="w-full appearance-none rounded border px-3 py-2 leading-tight text-gray-700 shadow focus:outline-none focus:shadow-outline" />
                        <span asp-validation-for="CustomerPersonalInfo.LastName" class="text-sm text-red-500"></span>
                    </div>
                </div>

                <div>
                    <label asp-for="CustomerPersonalInfo.Email" class="mb-2 block text-sm font-bold text-gray-700"></label>
                    <input asp-for="CustomerPersonalInfo.Email" class="w-full appearance-none rounded border px-3 py-2 leading-tight text-gray-700 shadow focus:outline-none focus:shadow-outline" />
                    <span asp-validation-for="CustomerPersonalInfo.Email" class="text-sm text-red-500"></span>
                </div>

                <div>
                    <label asp-for="CustomerPersonalInfo.DateOfBirth" class="mb-2 block text-sm font-bold text-gray-700"></label>
                    <input asp-for="CustomerPersonalInfo.DateOfBirth" type="date" class="w-full appearance-none rounded border px-3 py-2 leading-tight text-gray-700 shadow focus:outline-none focus:shadow-outline" />
                    <span asp-validation-for="CustomerPersonalInfo.DateOfBirth" class="text-sm text-red-500"></span>
                </div>

                <!-- Password Section -->
                <div>
                    <a href="#" id="change-password-link" class="text-blue-500 underline">Change Password</a>
                </div>

                <div id="password-section" class="hidden space-y-6">
                    <div>
                        <label asp-for="CustomerPersonalInfo.Password" class="mb-2 block text-sm font-bold text-gray-700"></label>
                        <input asp-for="CustomerPersonalInfo.Password" type="password" class="w-full appearance-none rounded border px-3 py-2 leading-tight text-gray-700 shadow focus:outline-none focus:shadow-outline" />
                        <span asp-validation-for="CustomerPersonalInfo.Password" class="text-sm text-red-500"></span>
                    </div>

                    <div>
                        <label asp-for="CustomerPersonalInfo.ConfirmPassword" class="mb-2 block text-sm font-bold text-gray-700"></label>
                        <input asp-for="CustomerPersonalInfo.ConfirmPassword" type="password" class="w-full appearance-none rounded border px-3 py-2 leading-tight text-gray-700 shadow focus:outline-none focus:shadow-outline" />
                        <span asp-validation-for="CustomerPersonalInfo.ConfirmPassword" class="text-sm text-red-500"></span>
                    </div>
                </div>

                <div>
                    <label asp-for="CustomerPersonalInfo.IdentityCardNumber" class="mb-2 block text-sm font-bold text-gray-700"></label>
                    <input asp-for="CustomerPersonalInfo.IdentityCardNumber" class="w-full appearance-none rounded border px-3 py-2 leading-tight text-gray-700 shadow focus:outline-none focus:shadow-outline" />
                    <span asp-validation-for="CustomerPersonalInfo.IdentityCardNumber" class="text-sm text-red-500"></span>
                </div>

                <div>
                    <label asp-for="CustomerPersonalInfo.PhoneNumber" class="mb-2 block text-sm font-bold text-gray-700"></label>
                    <input asp-for="CustomerPersonalInfo.PhoneNumber" class="w-full appearance-none rounded border px-3 py-2 leading-tight text-gray-700 shadow focus:outline-none focus:shadow-outline" />
                    <span asp-validation-for="CustomerPersonalInfo.PhoneNumber" class="text-sm text-red-500"></span>
                </div>

                <div>
                    <label asp-for="CustomerPersonalInfo.Gender" class="mb-2 block text-sm font-bold text-gray-700"></label>
                    <div class="flex items-center">
                        <label class="mr-4 inline-flex items-center">
                            <input asp-for="CustomerPersonalInfo.Gender" type="radio" value="Male" class="form-radio text-blue-600" />
                            <span class="ml-2">Male</span>
                        </label>
                        <label class="mr-4 inline-flex items-center">
                            <input asp-for="CustomerPersonalInfo.Gender" type="radio" value="Female" class="form-radio text-blue-600" />
                            <span class="ml-2">Female</span>
                        </label>
                        <label class="inline-flex items-center">
                            <input asp-for="CustomerPersonalInfo.Gender" type="radio" value="Other" class="form-radio text-blue-600" />
                            <span class="ml-2">Other</span>
                        </label>
                    </div>
                    <span asp-validation-for="CustomerPersonalInfo.Gender" class="text-sm text-red-500"></span>
                </div>

                <div class="flex justify-end space-x-4">
                    <button type="button" class="rounded bg-gray-300 px-4 py-2 text-gray-800">Cancel</button>
                    <button type="submit" class="rounded bg-red-500 px-4 py-2 text-white">Save changes</button>
                </div>
            </form>
        </div>

        <!-- Address Form -->
        <div class="hidden w-3/4 rounded bg-white p-6 shadow-md" id="address-form">
            <form id="address-form" method="post" class="space-y-6" asp-page-handler="UpdateAddress">
                <div>
                    <label asp-for="Address.HouseNumber" class="mb-2 block text-sm font-bold text-gray-700"></label>
                    <input asp-for="Address.HouseNumber" class="w-full rounded border px-3 py-2" />
                    <span asp-validation-for="Address.HouseNumber" class="text-sm text-red-500"></span>
                </div>
                <div>
                    <label asp-for="Address.Street" class="mb-2 block text-sm font-bold text-gray-700"></label>
                    <input asp-for="Address.Street" class="w-full rounded border px-3 py-2" />
                    <span asp-validation-for="Address.Street" class="text-sm text-red-500"></span>
                </div>
                <div>
                    <label asp-for="Address.Postcode" class="mb-2 block text-sm font-bold text-gray-700"></label>
                    <input asp-for="Address.Postcode" class="w-full rounded border px-3 py-2" />
                    <span asp-validation-for="Address.Postcode" class="text-sm text-red-500"></span>
                </div>
                <div>
                    <label asp-for="Address.Park" class="mb-2 block text-sm font-bold text-gray-700"></label>
                    <input asp-for="Address.Park" class="w-full rounded border px-3 py-2" />
                    <span asp-validation-for="Address.Park" class="text-sm text-red-500"></span>
                </div>
                <div>
                    <label asp-for="Address.City" class="mb-2 block text-sm font-bold text-gray-700"></label>
                    <input asp-for="Address.City" class="w-full rounded border px-3 py-2" />
                    <span asp-validation-for="Address.City" class="text-sm text-red-500"></span>
                </div>
                <div class="flex justify-end">
                    <button type="submit" class="rounded bg-red-500 px-4 py-2 text-white">Save Address</button>
                </div>
            </form>
        </div>


    </div>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
    <script>
        document.getElementById("change-password-link").addEventListener("click", function (event) {
            event.preventDefault();
            var passwordSection = document.getElementById("password-section");
            if (passwordSection.classList.contains("hidden")) {
                passwordSection.classList.remove("hidden");
            } else {
                passwordSection.classList.add("hidden");
            }
        });
    </script>

    <script>
        document.getElementById("address-button").addEventListener("click", function () {
            document.getElementById("personal-info-form").classList.toggle("hidden");
            document.getElementById("address-form").classList.toggle("hidden");
        });
    </script>
}